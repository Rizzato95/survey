(function(e){function t(t){for(var n,a,o=t[0],u=t[1],c=t[2],l=0,p=[];l<o.length;l++)a=o[l],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&p.push(i[a][0]),i[a]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);d&&d(t);while(p.length)p.shift()();return s.push.apply(s,c||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],n=!0,a=1;a<r.length;a++){var o=r[a];0!==i[o]&&(n=!1)}n&&(s.splice(t--,1),e=u(u.s=r[0]))}return e}var n={},a={app:0},i={app:0},s=[];function o(e){return u.p+"js/"+({}[e]||e)+"."+{"chunk-2201db06":"df4f4c8b"}[e]+".js"}function u(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,u),r.l=!0,r.exports}u.e=function(e){var t=[],r={"chunk-2201db06":1};a[e]?t.push(a[e]):0!==a[e]&&r[e]&&t.push(a[e]=new Promise((function(t,r){for(var n="css/"+({}[e]||e)+"."+{"chunk-2201db06":"19bb901d"}[e]+".css",i=u.p+n,s=document.getElementsByTagName("link"),o=0;o<s.length;o++){var c=s[o],l=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(l===n||l===i))return t()}var p=document.getElementsByTagName("style");for(o=0;o<p.length;o++){c=p[o],l=c.getAttribute("data-href");if(l===n||l===i)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var n=t&&t.target&&t.target.src||i,s=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=n,delete a[e],d.parentNode.removeChild(d),r(s)},d.href=i;var v=document.getElementsByTagName("head")[0];v.appendChild(d)})).then((function(){a[e]=0})));var n=i[e];if(0!==n)if(n)t.push(n[2]);else{var s=new Promise((function(t,r){n=i[e]=[t,r]}));t.push(n[2]=s);var c,l=document.createElement("script");l.charset="utf-8",l.timeout=120,u.nc&&l.setAttribute("nonce",u.nc),l.src=o(e);var p=new Error;c=function(t){l.onerror=l.onload=null,clearTimeout(d);var r=i[e];if(0!==r){if(r){var n=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;p.message="Loading chunk "+e+" failed.\n("+n+": "+a+")",p.name="ChunkLoadError",p.type=n,p.request=a,r[1](p)}i[e]=void 0}};var d=setTimeout((function(){c({type:"timeout",target:l})}),12e4);l.onerror=l.onload=c,document.head.appendChild(l)}return Promise.all(t)},u.m=e,u.c=n,u.d=function(e,t,r){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(u.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)u.d(r,n,function(t){return e[t]}.bind(null,n));return r},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="/survey/",u.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var p=0;p<c.length;p++)t(c[p]);var d=l;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("cd49")},"034f":function(e,t,r){"use strict";r("85ec")},"0799":function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));r("99af"),r("4de4"),r("4160"),r("4ec9"),r("d3b7"),r("3ca3"),r("159b"),r("ddb0");var n,a=r("d4ec"),i=r("bee2"),s=r("262e"),o=r("2caf");(function(e){e["Equals"]="=",e["LessThan"]="<",e["GreaterThan"]=">",e["LessEqualThan"]="<=",e["GreaterEqualThan"]=">=",e["NotEqual"]="!=",e["Contains"]="Contains",e["StartsWith"]="StartsWith",e["EndsWith"]="EndsWith",e["In"]="In"})(n||(n={}));var u=function(){function e(){Object(a["a"])(this,e)}return Object(i["a"])(e,[{key:"toList",value:function(){var t=[e.ASC,e.DESC];return t}}]),e}();u.ASC={resourceKey:"Ascending",value:"asc"},u.DESC={resourceKey:"Descending",value:"desc"};var c=r("38cd"),l=function(e){Object(s["a"])(r,e);var t=Object(o["a"])(r);function r(e){var i;return Object(a["a"])(this,r),i=t.call(this,e),i.operatorsMapping=new Map,i.operatorsMapping.set(n.Equals,"="),i.operatorsMapping.set(n.GreaterThan,"GreaterThan="),i.operatorsMapping.set(n.LessThan,"LessThan="),i.operatorsMapping.set(n.GreaterEqualThan,"GreaterThanOrEqualTo="),i.operatorsMapping.set(n.LessEqualThan,"LessThanOrEqualTo="),i.operatorsMapping.set(n.NotEqual,"NotEqualTo="),i.operatorsMapping.set(n.Contains,"Contains="),i.operatorsMapping.set(n.StartsWith,"StartsWith="),i.operatorsMapping.set(n.EndsWith,"EndsWith="),i.operatorsMapping.set(n.In,"In="),i}return Object(i["a"])(r,[{key:"translate",value:function(e,t){var r=this,n="";return e&&(e.properties&&e.properties.length>0&&(n+="?Fields=id,rowVersion,",e.properties.forEach((function(t,r){"id"!==t&&"rowVersion"!==t&&(n+=t,e.properties&&(n+=r<=e.properties.length-1?",":""))}))),e.skip&&e.skip>=0&&(n+=this.setConjunction(n),n+="Skip="+e.skip),n+=this.setConjunction(n),(!e.take||e.take<=0)&&(e.take=50),n+="Take="+(e.take>=0?e.take:50),e.filter&&e.filter.conditions&&e.filter.conditions.length>0&&e.filter.conditions.forEach((function(e){n+=r.setConjunction(n),n+=e.field+r.mapServiceStackOperator(e.operator)+e.value})),e.filter&&e.filter.groupBySettings&&e.filter.groupBySettings.length>0&&(n+=this.setConjunction(n),n+="groupBy=",e.filter.groupBySettings.forEach((function(t,r){n+=t,n+=r!==e.filter.groupBySettings.length-1?",":""}))),e.filter&&e.filter.sortingSettings&&e.filter.sortingSettings.length>0&&(n+=this.setConjunction(n),n+="orderBy=",e.filter.sortingSettings.forEach((function(t,r){n+=(t.mode.value===u.DESC.value?"-":"")+t.field,n+=r!==e.filter.sortingSettings.length-1?",":""})))),t&&(n+=t),n+=this.setConjunction(n)+"include=COUNT(*)",n}},{key:"fetchQuery",value:function(e,t,r){var n=!!(t&&t.filter&&t.filter.conditions&&t.filter.conditions.length>1)&&"OR"===t.filter.conditions[1].relationType;return n&&t?this.fetchQueryOr(e,t,r):this.fetchGet("query/".concat(e).concat(this.translate(t,r)))}},{key:"fetchQueryOr",value:function(e,t,r){return this.fetchGet("queryor/".concat(e).concat(this.translate(t,r)))}},{key:"fetchQueryTree",value:function(e,t,r){return this.fetchGet("querytree/".concat(e).concat(this.translate(t,r)))}},{key:"setConjunction",value:function(e){return""===e?"?":"&"}},{key:"mapServiceStackOperator",value:function(e){return this.operatorsMapping.get(e)||e}}]),r}(c["a"])},"0a03":function(e,t,r){"use strict";r("9103")},"0b83":function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));r("99af"),r("d3b7"),r("96cf");var n=r("1da1"),a=r("d4ec"),i=r("bee2"),s=r("262e"),o=r("2caf"),u=function e(t){Object(a["a"])(this,e),this.item=t},c=function e(t){Object(a["a"])(this,e),this.items=t},l=(r("4de4"),function e(t,r,n,i){Object(a["a"])(this,e),this.filter=t,this.properties=r||[],n&&(this.skip=n),i&&(this.take=i)}),p=r("0799"),d=function(e){Object(s["a"])(r,e);var t=Object(o["a"])(r);function r(e,n){var i;return Object(a["a"])(this,r),i=t.call(this,n),i.entityName=e,i}return Object(i["a"])(r,[{key:"delete",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}return e.abrupt("return",this.fetchDelete("repository/".concat(this.entityName,"/").concat(t.id)));case 4:return e.abrupt("return",Promise.reject("No elements provided"));case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"update",value:function(e){var t=Array.isArray(e)?new c(e):new u(e);return this.fetchPut("repository/".concat(this.entityName),t)}},{key:"create",value:function(e){var t=Array.isArray(e)?new c(e):new u(e);return this.fetchPost("repository/".concat(this.entityName),t)}},{key:"get",value:function(e){return this.fetchGet("repository/".concat(this.entityName).concat(e?"/"+e:""))}},{key:"query",value:function(e,t){return this.fetchQuery(this.entityName,e,t)}},{key:"queryFromFilter",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r,n){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",Promise.reject("Missing filter"));case 2:return a=new l(t,void 0,r,n),e.next=5,this.query(a);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));function t(t,r,n){return e.apply(this,arguments)}return t}()}]),r}(p["a"])},"0be8":function(e,t,r){e.exports=r.p+"img/logo-unicredit.4a45e5f9.png"},"38cd":function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));r("d3b7");var n=r("d4ec"),a=r("bee2"),i=r("bc3a"),s=r.n(i),o=function(){function e(t){Object(n["a"])(this,e),this.baseUrl=t||"https://nucleo-development-host.azurewebsites.net/api/",this.initializeHttpClient()}return Object(a["a"])(e,[{key:"fetchGet",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.fetch(e,"get",null,t)}},{key:"fetchPost",value:function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.fetch(e,"post",t,r)}},{key:"fetchPut",value:function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.fetch(e,"put",t,r)}},{key:"fetchDelete",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.fetch(e,"delete",null,t)}},{key:"fetchWithoutBaseUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",r=arguments.length>2?arguments[2]:void 0;return this.httpClient?this.httpClient({method:t,url:e,data:r}).then((function(e){return e.json()})):Promise.reject("[BaseService] The HttpClient is not injected!")}},{key:"fetch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",r=arguments.length>2?arguments[2]:void 0;return this.initializeHttpClient(),this.httpClient?this.httpClient({method:t,url:e,data:r}).then((function(e){return e&&200===e.status?e.data:null})).catch((function(){})):Promise.reject("[BaseService] The HttpClient is not injected!")}},{key:"initializeHttpClient",value:function(){this.httpClient||(this.httpClient=s.a.create({baseURL:this.baseUrl,withCredentials:!1,headers:{Accept:"application/json","Content-Type":"application/json","msa-culture":"it","msa-token":""}}))}}]),e}()},"537a":function(e,t,r){},"5c64":function(e,t,r){"use strict";r("d32a")},"5f6b":function(e,t,r){"use strict";r("537a")},"77d6":function(e,t,r){e.exports=r.p+"img/logo-revaluta.896c5d02.png"},"85ec":function(e,t,r){},9103:function(e,t,r){},a320:function(e,t,r){"use strict";r("eddb")},ca18:function(e,t,r){},cd49:function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d"),r("0cdd");var n=r("2b0e"),a=r("5f5b"),i=r("b1e0");n["default"].use(a["a"]),n["default"].use(i["a"]);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("router-view")],1)},o=[],u=(r("96cf"),r("1da1")),c=r("d4ec"),l=r("bee2"),p=r("262e"),d=r("2caf"),v=r("9ab4"),f=r("60a3"),h=function(e){Object(p["a"])(r,e);var t=Object(d["a"])(r);function r(){return Object(c["a"])(this,r),t.apply(this,arguments)}return Object(l["a"])(r,[{key:"created",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return document.title="Revaluta green 110",e.next=3,this.settings.initialize();case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"settings",get:function(){return this.$store.state.settings}}]),r}(f["c"]);h=Object(v["a"])([f["a"]],h);var b=h,m=b,y=(r("034f"),r("5c64"),r("2877")),g=Object(y["a"])(m,s,o,!1,null,null,null),k=g.exports,O=(r("d3b7"),r("8c4f")),j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.isSurveyVisible?n("div",[n("transition",{attrs:{appear:"",name:"fade"}},[n("SurveySteps")],1)],1):n("div",{staticClass:"survey__start"},[n("transition",{attrs:{appear:"",name:"fade"}},[n("b-container",[n("b-card",{staticClass:"text-center survey__start-card"},[n("b-container",{staticClass:"survey__start-logos"},[n("b-row",[n("b-col",{attrs:{"align-self":"center"}},[n("b-img",{staticClass:"logo-img mr-3",attrs:{src:r("77d6")}}),n("b-img",{staticClass:"logo-img",attrs:{src:r("0be8")}})],1)],1)],1),n("b-container",{staticClass:"survey__intro"},[n("b-row",[n("b-col",[n("h1",{staticClass:"survey__intro-title"},[n("span",[e._v("Green110")]),n("span",[e._v("Superbonus Revaluta")])])])],1),n("b-row",[n("b-col",[n("b-form-checkbox",{attrs:{id:"checkbox",name:"checkbox-1"},model:{value:e.areTermsAccepted,callback:function(t){e.areTermsAccepted=t},expression:"areTermsAccepted"}},[e._v(" Per poter proseguire confermare la presa visione dell'informativa sul trattamento dei dati. ")])],1)],1),n("b-row",[n("b-col",[n("b-link",{attrs:{href:"https://www.warranthub.it/privacy/",target:"__blank"}},[e._v("Mostrare i termini")])],1)],1),n("b-row",{staticClass:"mt-4 align-bottom"},[n("b-col",[n("span",{attrs:{id:"confirm-step-1"}},[n("b-button",{staticClass:"survey__button",attrs:{variant:"primary",size:"lg",disabled:!e.areTermsAccepted},on:{click:e.startSurvey}},[e._v("Inizia")])],1),e.areTermsAccepted?e._e():n("b-tooltip",{attrs:{target:"confirm-step-1"}},[e._v(" Per proseguire è necessario confermare la presa visione dell'informativa sul trattamento dei dati. ")])],1)],1)],1)],1)],1)],1)],1)])},S=[],C=function e(){Object(c["a"])(this,e)};C.defaultServicesBaseUrl="DefaultServiceBaseUrl",C.resourcesDefaultContext="Dictionary",C.enumsLocalStorageName="msa-enums",C.dictionaryLocalStorageName="msa-dictionary",C.surveyLocalStorageName="revaluta-survey",C.surveyStepsLocalStorageName="revaluta-survey-steps",C.questionnaireServiceEntityName="questionnaires";var x,w=function(){function e(){Object(c["a"])(this,e)}return Object(l["a"])(e,null,[{key:"setItem",value:function(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(r){console.warn("[CacheHelper:setItem()] error saving the item with key '".concat(e,"' in the localStorage"),r)}}},{key:"getItem",value:function(e){try{var t=localStorage.getItem(e);return t?JSON.parse(t):null}catch(r){return console.warn("[CacheHelper:getItem()] error reading the item with key '".concat(e,"' in the localStorage"),r),null}}},{key:"removeItem",value:function(e){localStorage.removeItem(e)}},{key:"clearAll",value:function(){localStorage.clear()}},{key:"Instance",get:function(){return this.instance||(this.instance=new this)}}]),e}(),_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-container",{staticClass:"steps__container"},[n("b-card",{staticClass:"text-center steps__card overflow-hidden"},[n("b-row",{staticClass:"mb-4"},[n("b-col",{attrs:{"align-self":"center"}},[n("b-img",{staticClass:"logo-img",attrs:{src:r("0be8")}})],1)],1),n("div",{staticClass:"stepper m-4"},[n("div",{staticClass:"stepper__progress"}),n("div",{staticClass:"stepper__progress-active",style:{width:e.progressLength+"%"}}),e._l(e.steps,(function(t){return n("div",{key:t.title,staticClass:"stepper__box"},[n("div",{staticClass:"stepper__box-icon"},[n("b-icon",{staticClass:"rounded-circle p-2",class:[t.isFilled?"icon-filled":t.isActive?"icon-active":"border icon-disabled icon-events-none",e.isSurveyComplete?"icon-events-none":""],attrs:{icon:t.icon,"font-scale":"4",variant:"light"},on:{click:function(r){return e.goToStep(t)}}})],1),n("div",{staticClass:"stepper__box-title",class:[t.isActive?"text-primary font-weight-bold":t.isFilled?"text-primary":"text-muted"]},[e._v(" "+e._s(t.title)+" ")])])}))],2),n("transition",{attrs:{"enter-active-class":e.enterAnimation,"leave-active-class":e.leaveAnimation,mode:"out-in"}},[1==e.currentStep.type?n("div",{key:"personal-data"},[n("validation-observer",{ref:"observer"},[n("b-form",{on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.onNextButtonClick(t)}}},[n("b-container",{staticClass:"text-left mt-4"},[n("b-row",[n("b-col",{attrs:{sm:"12"}},[n("survey-input-field",{attrs:{id:"name",label:"Nome",rules:"required",type:"text"},model:{value:e.survey.firstName,callback:function(t){e.$set(e.survey,"firstName",t)},expression:"survey.firstName"}})],1),n("b-col",{attrs:{sm:"12"}},[n("survey-input-field",{attrs:{id:"surname",label:"Cognome",rules:"required",type:"text"},model:{value:e.survey.lastName,callback:function(t){e.$set(e.survey,"lastName",t)},expression:"survey.lastName"}})],1),n("b-col",{attrs:{sm:"12"}},[n("survey-input-field",{attrs:{id:"fiscal-code",label:"Codice fiscale / Partita IVA",type:"text",rules:{required:!0,min:11,regex:/^([A-Za-z]{6}[0-9lmnpqrstuvLMNPQRSTUV]{2}[abcdehlmprstABCDEHLMPRST]{1}[0-9lmnpqrstuvLMNPQRSTUV]{2}[A-Za-z]{1}[0-9lmnpqrstuvLMNPQRSTUV]{3}[A-Za-z]{1})$|([0-9]{11})$/},vMaskRule:"XXXXXXXXXXXXXXXX"},model:{value:e.survey.fiscalCode,callback:function(t){e.$set(e.survey,"fiscalCode",t)},expression:"survey.fiscalCode"}})],1),n("b-col",{attrs:{sm:"12"}},[n("survey-input-field",{attrs:{id:"email",label:"Email",rules:"required|email",type:"email"},model:{value:e.survey.email,callback:function(t){e.$set(e.survey,"email",t)},expression:"survey.email"}})],1),n("b-col",{attrs:{sm:"12"}},[n("survey-input-field",{attrs:{id:"phone",label:"Telefono",rules:"required",type:"tel",vMaskRule:"############"},model:{value:e.survey.phone,callback:function(t){e.$set(e.survey,"phone",t)},expression:"survey.phone"}})],1),n("b-col",{attrs:{sm:"12"}},[n("survey-drop-down-field",{attrs:{id:"role",label:"Qualifica",rules:"required",entityName:"Msa.Core.Models.Enums.MetadataCategoryType",otherValue:e.survey.otherAsA,otherOptionValue:4},on:{"update:otherValue":function(t){return e.$set(e.survey,"otherAsA",t)},"update:other-value":function(t){return e.$set(e.survey,"otherAsA",t)}},model:{value:e.survey.asA,callback:function(t){e.$set(e.survey,"asA",t)},expression:"survey.asA"}})],1)],1)],1),n("b-container",{staticClass:"mt-3 mb-3 text-right"},[n("div",{staticClass:"row"},[n("b-col",{staticClass:"text-left d-none d-sm-block"},[n("b-img",{staticClass:"logo-img mr-3",attrs:{src:r("77d6")}})],1),n("div",{staticClass:"col"},[n("b-button",{attrs:{variant:"primary",type:"submit",size:"lg"}},[e._v("Avanti ")])],1)],1)])],1)],1)],1):e._e(),2==e.currentStep.type?n("div",{key:"building-data"},[n("validation-observer",{ref:"observer"},[n("b-form",{on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.onNextButtonClick(t)}}},[n("b-container",{staticClass:"text-left mt-4"},[n("b-row",[n("b-col",{attrs:{sm:"12"}},[n("survey-drop-down-field",{attrs:{id:"recipient",label:"Il beneficiario del SUPERBONUS sarà",rules:"required",entityName:"Msa.Core.Models.Enums.MetadataCategoryType",otherValue:e.survey.otherBeneficiary,otherOptionValue:4},on:{"update:otherValue":function(t){return e.$set(e.survey,"otherBeneficiary",t)},"update:other-value":function(t){return e.$set(e.survey,"otherBeneficiary",t)}},model:{value:e.survey.beneficiary,callback:function(t){e.$set(e.survey,"beneficiary",t)},expression:"survey.beneficiary"}})],1),n("b-col",{attrs:{sm:"12"}},[n("survey-drop-down-field",{attrs:{id:"buildingType",label:"Indichi la tipologia di edificio che sarà oggetto dell'intervento",rules:"required",entityName:"Msa.Core.Models.Enums.MetadataCategoryType"},model:{value:e.survey.buildingType,callback:function(t){e.$set(e.survey,"buildingType",t)},expression:"survey.buildingType"}})],1),n("b-col",{attrs:{sm:"12"}},[n("survey-drop-down-field",{attrs:{id:"interventionType",label:"Indichi la tipologia di intervento",rules:"required",entityName:"Msa.Core.Models.Enums.MetadataCategoryType",otherValue:e.survey.otherMaintenanceWorkKind,otherOptionValue:4},on:{"update:otherValue":function(t){return e.$set(e.survey,"otherMaintenanceWorkKind",t)},"update:other-value":function(t){return e.$set(e.survey,"otherMaintenanceWorkKind",t)}},model:{value:e.survey.maintenanceWorkKind,callback:function(t){e.$set(e.survey,"maintenanceWorkKind",t)},expression:"survey.maintenanceWorkKind"}})],1),n("b-col",{attrs:{sm:"12"}},[n("survey-radio-field",{attrs:{id:"energyCertificate",label:"Si dispone già dell'Attestato di Prestazione Energetica (APE) dell'immobile?",rules:"required"},model:{value:e.survey.hasEnergyPerformanceCertificate,callback:function(t){e.$set(e.survey,"hasEnergyPerformanceCertificate",t)},expression:"survey.hasEnergyPerformanceCertificate"}})],1),n("b-col",{attrs:{sm:"12"}},[n("survey-drop-down-field",{attrs:{id:"builiding-energetic-class",label:"Qual è la classe energetica dell'immobile?",rules:"required",entityName:"Msa.Core.Models.Enums.MetadataCategoryType"},model:{value:e.survey.energyClass,callback:function(t){e.$set(e.survey,"energyClass",t)},expression:"survey.energyClass"}})],1),n("b-col",{attrs:{sm:"12"}},[n("survey-radio-field",{attrs:{id:"energetic-riqualification-project",label:"E' già stato prodotto il progetto di riqualificazione energetica?",rules:"required"},model:{value:e.survey.hasEnergyRedevelopmentProject,callback:function(t){e.$set(e.survey,"hasEnergyRedevelopmentProject",t)},expression:"survey.hasEnergyRedevelopmentProject"}})],1),n("b-col",{attrs:{sm:"12"}},[n("survey-radio-field",{attrs:{id:"suppliers-quotes",label:"Sono già stati raccolti i preventivi dai fornitori?",rules:"required"},model:{value:e.survey.hasSupplierQuotes,callback:function(t){e.$set(e.survey,"hasSupplierQuotes",t)},expression:"survey.hasSupplierQuotes"}})],1),n("b-col",{attrs:{sm:"12"}},[n("survey-input-field",{attrs:{id:"intervention-cost",label:"Fornire una stima del costo dell'intervento.",isRequired:!1,type:"text",vMoneyRule:{decimal:",",thousands:".",prefix:"€ ",precision:0},vMaskRule:"##########"},model:{value:e.survey.estimatedCost,callback:function(t){e.$set(e.survey,"estimatedCost",t)},expression:"survey.estimatedCost"}})],1),n("b-col",{attrs:{sm:"12"}},[n("survey-radio-field",{attrs:{id:"works-already-started",label:"Ha già avviato i lavori di riqualificazione energetica?",rules:"required"},model:{value:e.survey.isWorkStarted,callback:function(t){e.$set(e.survey,"isWorkStarted",t)},expression:"survey.isWorkStarted"}})],1)],1)],1),n("b-container",{staticClass:"mt-3 mb-3 text-right"},[n("b-row",[n("b-col",{staticClass:"text-left d-none d-sm-block"},[n("b-img",{staticClass:"logo-img mr-3",attrs:{src:r("77d6")}})],1),n("b-col",[n("b-button",{staticClass:"d-none"}),n("b-button",{staticClass:"mr-3",attrs:{variant:"outline-secondary",size:"lg",disabled:e.isSaveInProgress},on:{click:function(t){return e.onGoBackButtonClick(1)}}},[e._v("Indietro")]),n("b-button",{attrs:{variant:"primary",type:"submit",size:"lg",disabled:e.isSaveInProgress}},[e.isSaveInProgress?n("b-spinner"):e._e(),e._v(" Conferma ")],1)],1)],1)],1)],1)],1)],1):e._e(),3==e.currentStep.type?n("div",{key:"confirm"},[n("validation-observer",{ref:"observer"},[n("b-form",{on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.onNextButtonClick(t)}}},[n("b-container",{staticClass:"p-4 container__confirm"},[n("b-row",[n("b-col",[n("b-icon",{staticClass:"text-success container__confirm-icon mb-4",attrs:{icon:"check2-circle","font-scale":"4"}}),n("p",{staticClass:"container__confirm-text h5"},[n("span",[e._v(" Grazie per aver completato le informazioni. ")]),n("br"),n("span",[e._v(" Sarai contattato a breve da un nostro esperto. ")])])],1)],1),n("b-row",{staticClass:"mt-4"},[n("b-col",[n("b-button",{attrs:{variant:"primary",size:"lg",type:"submit"}},[e._v(" Nuovo sondaggio ")])],1)],1)],1),n("b-container",{staticClass:"p-3"},[n("b-row",[n("b-col",{staticClass:"text-left"},[n("b-img",{staticClass:"logo-img mr-3",attrs:{src:r("77d6")}})],1)],1)],1)],1)],1)],1):e._e()])],1)],1)],1)},N=[],E=(r("7db0"),r("4160"),r("c975"),r("159b"),function e(){Object(c["a"])(this,e)}),A=function(e){Object(p["a"])(r,e);var t=Object(d["a"])(r);function r(){return Object(c["a"])(this,r),t.apply(this,arguments)}return r}(E),V=function(e){Object(p["a"])(r,e);var t=Object(d["a"])(r);function r(){var e;return Object(c["a"])(this,r),e=t.apply(this,arguments),e.id=0,e}return r}(A),T=function(e){Object(p["a"])(r,e);var t=Object(d["a"])(r);function r(){return Object(c["a"])(this,r),t.apply(this,arguments)}return r}(V);(function(e){e[e["PartialCompilation"]=0]="PartialCompilation",e[e["Submitted"]=1]="Submitted",e[e["EvaluationInProgress"]=2]="EvaluationInProgress",e[e["Evaluated"]=3]="Evaluated"})(x||(x={}));var P,R=function(e){Object(p["a"])(r,e);var t=Object(d["a"])(r);function r(){var e;return Object(c["a"])(this,r),e=t.call(this),e.workflowStatus=x.PartialCompilation,e}return r}(T);(function(e){e[e["Start"]=0]="Start",e[e["PersonalData"]=1]="PersonalData",e[e["BuildingData"]=2]="BuildingData",e[e["End"]=3]="End"})(P||(P={}));var I=r("0b83"),q=function(e){Object(p["a"])(r,e);var t=Object(d["a"])(r);function r(){return Object(c["a"])(this,r),t.call(this,C.questionnaireServiceEntityName)}return r}(I["a"]),M=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("validation-provider",{attrs:{name:e.label,rules:e.rules},scopedSlots:e._u([{key:"default",fn:function(t){return[r("b-form-group",{class:{required:e.isRequired},attrs:{id:"group-"+e.id,label:e.label,"label-for":"input-"+e.id,state:e.getValidationState(t)}},[r("b-form-select",{attrs:{id:"input-"+e.id,name:"input-"+e.id,state:e.getValidationState(t),options:e.options,"value-field":e.valueField,"text-field":e.textField,"aria-describedby":"input-live-feedback"+e.id},on:{input:e.onChange},model:{value:e.internalValue,callback:function(t){e.internalValue=t},expression:"internalValue"}}),e.internalValue==e.otherOptionValue?r("validation-provider",{attrs:{name:"other-"+e.label,rules:e.rules},scopedSlots:e._u([{key:"default",fn:function(t){return[r("b-form-input",{staticClass:"mt-3",attrs:{id:"input-other-"+e.id,placeholder:"Specificare un valore",value:e.otherValue,state:e.getValidationState(t)},on:{input:e.onOtherValueChange}})]}}],null,!0)}):e._e(),r("b-form-invalid-feedback",{attrs:{id:"input-live-feedback"+e.id}},[e._v(e._s(t.errors[0]))])],1)]}}])})},B=[],L=r("ade3"),D=(r("99af"),r("d81d"),r("b64b"),r("ddb0"),function e(t,r){Object(c["a"])(this,e),void 0!==t&&null!==t&&(this.text=t),void 0!==r&&null!==r&&(this.value=r)}),$=r("38cd"),F=(r("3ca3"),r("4de4"),r("fb6a"),r("b0c0"),function(e){Object(p["a"])(r,e);var t=Object(d["a"])(r);function r(e,n,a,i,s){var o;return Object(c["a"])(this,r),o=t.call(this),o.resourceContext="",o.stringValue="",o.resourceKey=e,o.stringValue=n,o.type=a,o.name=i,o.binaryValue=s,o}return r}(E)),z=r("0799"),U=function(e){Object(p["a"])(r,e);var t=Object(d["a"])(r);function r(){var e,n;return Object(c["a"])(this,r),n=t.call(this),n.resourcesDefaultContext=null!==(e=C.resourcesDefaultContext)&&void 0!==e?e:"Dictionary",n}return Object(l["a"])(r,[{key:"getDictionary",value:function(){return this.getCachedDictionary()}},{key:"getResource",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",Promise.reject());case 2:if(t=t.length>0?t.charAt(0).toUpperCase()+t.slice(1):"",r||(r=this.resourcesDefaultContext),n=this.getCacheItem(t,r),n){e.next=10;break}return e.next=8,this.fetchGet("resources/"+t+(r?"/"+r:""),!1);case 8:n=e.sent,n&&(n.stringValue||n.binaryValue)&&this.updateCacheItem(n);case 10:return n||(n=new F(t,"["+t+"]")),e.abrupt("return",Promise.resolve(n));case 12:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"updateCacheItem",value:function(e){if(e){var t=this.getCachedDictionary();t=t.filter((function(t){return t.id!==e.id})),t.push(e),w.setItem(C.dictionaryLocalStorageName,t)}}},{key:"getCacheItem",value:function(e,t){var r=this.getCachedDictionary(),n=r.find((function(r){return r.resourceKey===e&&r.resourceContext===t}));return n||void 0}},{key:"emptyDictionary",value:function(){w.setItem(C.dictionaryLocalStorageName,[])}},{key:"getCachedDictionary",value:function(){var e=w.getItem(C.dictionaryLocalStorageName);return e&&Array.isArray(e)?e:[]}}]),r}(z["a"]),G=function(){function e(){Object(c["a"])(this,e)}return Object(l["a"])(e,null,[{key:"translateObject",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t,r,n,a){var i,s,o,c=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=c.length>4&&void 0!==c[4]&&c[4],!t){e.next=14;break}if(s=new U,s){e.next=7;break}return e.abrupt("return",[]);case 7:return e.next=9,Promise.all(t.map(function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){var i,o,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=r?t[r]:t.resourceKey,o=n&&t[n]?t[n]:a,e.next=4,s.getResource(i,o);case 4:return u=e.sent,t.translation=u.stringValue,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 9:return o=e.sent,i&&(o=this.sortObject(o,"translation")),e.abrupt("return",o);case 12:e.next=15;break;case 14:return e.abrupt("return",Promise.resolve([]));case 15:case"end":return e.stop()}}),e,this)})));function t(t,r,n,a){return e.apply(this,arguments)}return t}()},{key:"sortObject",value:function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e.sort((function(e,n){var a=t?e[t]:e,i=t?n[t]:n;return a=a||"",i=i||"",isNaN(a)?a.localeCompare(i)*(r?1:-1):(parseFloat(a)-parseFloat(i))*(r?1:-1)}))}}]),e}(),W=function(e){Object(p["a"])(r,e);var t=Object(d["a"])(r);function r(){return Object(c["a"])(this,r),t.call(this)}return Object(l["a"])(r,[{key:"get",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=this.getItem(t),r){e.next=15;break}return e.next=4,this.fetchGet("Tools/Enums".concat(t?"/"+t:""));case 4:if(r=e.sent,r=r?this.mapEnum(r.values):null,!r){e.next=12;break}return e.next=9,G.translateObject(r,"text");case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,this.setItem(t,r);case 15:return e.abrupt("return",Promise.resolve(r));case 16:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"mapEnum",value:function(e){return Object.keys(e).map((function(t){return t=isNaN(t)?t:parseInt(t),new D(e[t],t)}))}},{key:"getItem",value:function(e){return w.getItem("".concat(C.enumsLocalStorageName,"-").concat(e))}},{key:"setItem",value:function(e,t){w.setItem("".concat(C.enumsLocalStorageName,"-").concat(e),t)}}]),r}($["a"]),X=function(e){Object(p["a"])(r,e);var t=Object(d["a"])(r);function r(){var e,n;return Object(c["a"])(this,r),n=t.apply(this,arguments),n.internalValue=null!==(e=n.value)&&void 0!==e?e:"",n}return Object(l["a"])(r,[{key:"getValidationState",value:function(e){var t=e.dirty,r=e.validated,n=e.valid,a=void 0===n?null:n;return t||r?a:null}},{key:"onChange",value:function(e){this.$emit("input",e)}}]),r}(f["c"]);Object(v["a"])([Object(f["b"])({required:!0})],X.prototype,"id",void 0),Object(v["a"])([Object(f["b"])({required:!0})],X.prototype,"label",void 0),Object(v["a"])([Object(f["b"])({required:!0})],X.prototype,"value",void 0),Object(v["a"])([Object(f["b"])({default:!0})],X.prototype,"isRequired",void 0),Object(v["a"])([Object(f["b"])()],X.prototype,"rules",void 0),X=Object(v["a"])([f["a"]],X);var Q,K,H=X,J=H,Z=(r("0a03"),Object(y["a"])(J,Q,K,!1,null,null,null)),Y=Z.exports,ee=function(e){Object(p["a"])(r,e);var t=Object(d["a"])(r);function r(){var e;return Object(c["a"])(this,r),e=t.apply(this,arguments),e.options=[],e}return Object(l["a"])(r,[{key:"created",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t,r,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""==this.internalValue&&(this.internalValue=null),"Enum"!=this.entityType){e.next=8;break}return r=new W,e.next=5,r.get(this.entityName);case 5:this.options=e.sent,e.next=12;break;case 8:return n=new I["a"](this.entityName),e.next=11,n.get();case 11:this.options=e.sent;case 12:return a=new U,e.t0=this.options,t={},e.t1=L["a"],e.t2=t,e.t3=this.textField,e.next=20,a.getResource("SelectOption");case 20:return e.next=22,e.sent.stringValue;case 22:e.t4=e.sent,(0,e.t1)(e.t2,e.t3,e.t4),Object(L["a"])(t,this.valueField,null),e.t5=t,e.t0.unshift.call(e.t0,e.t5);case 27:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getValidationState",value:function(e){var t=e.dirty,r=e.validated,n=e.valid,a=void 0===n?null:n;return t||r?!(this.otherOptionValue==this.internalValue&&!this.otherValue)&&a:null}},{key:"onOtherValueChange",value:function(e){this.$emit("update:otherValue",e)}}]),r}(Y);Object(v["a"])([Object(f["b"])({default:"translation"})],ee.prototype,"textField",void 0),Object(v["a"])([Object(f["b"])({default:"value"})],ee.prototype,"valueField",void 0),Object(v["a"])([Object(f["b"])({required:!0})],ee.prototype,"entityName",void 0),Object(v["a"])([Object(f["b"])({default:"Enum"})],ee.prototype,"entityType",void 0),Object(v["a"])([Object(f["b"])({default:"other"})],ee.prototype,"otherOptionValue",void 0),Object(v["a"])([Object(f["b"])()],ee.prototype,"otherValue",void 0),ee=Object(v["a"])([f["a"]],ee);var te=ee,re=te,ne=Object(y["a"])(re,M,B,!1,null,null,null),ae=ne.exports,ie=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("validation-provider",{attrs:{name:e.label,rules:e.rules},scopedSlots:e._u([{key:"default",fn:function(t){return[r("b-form-group",{class:{required:e.isRequired},attrs:{id:"group-"+e.id,label:e.label,"label-for":"input-"+e.id,state:e.getValidationState(t)}},[r("b-form-input",{directives:[{name:"money",rawName:"v-money",value:e.vMoneyRule,expression:"vMoneyRule"},{name:"mask",rawName:"v-mask",value:e.vMaskRule,expression:"vMaskRule"}],attrs:{id:"input-"+e.id,name:"input-"+e.id,type:e.type,state:e.rules?e.getValidationState(t):null,"aria-describedby":"input-live-feedback"+e.id},on:{input:e.onChange},model:{value:e.internalValue,callback:function(t){e.internalValue=t},expression:"internalValue"}}),r("b-form-invalid-feedback",{attrs:{id:"input-live-feedback"+e.id}},[e._v(e._s(t.errors[0]))])],1)]}}])})},se=[],oe=r("b6d0"),ue=r("716b");f["c"].directive("mask",oe["a"]),f["c"].directive("money",ue["VMoney"]);var ce=function(e){Object(p["a"])(r,e);var t=Object(d["a"])(r);function r(){return Object(c["a"])(this,r),t.apply(this,arguments)}return r}(Y);Object(v["a"])([Object(f["b"])({default:"text"})],ce.prototype,"type",void 0),Object(v["a"])([Object(f["b"])({default:""})],ce.prototype,"vMaskRule",void 0),Object(v["a"])([Object(f["b"])({default:""})],ce.prototype,"vMoneyRule",void 0),ce=Object(v["a"])([f["a"]],ce);var le=ce,pe=le,de=Object(y["a"])(pe,ie,se,!1,null,null,null),ve=de.exports,fe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("validation-provider",{attrs:{name:e.label,rules:e.rules},scopedSlots:e._u([{key:"default",fn:function(t){return[r("b-form-group",{class:{required:e.isRequired},attrs:{id:"group-"+e.id,label:e.label,"label-for":"input-"+e.id,state:e.getValidationState(t)}},[r("b-form-radio-group",{attrs:{id:"radio-group-"+e.id,name:"radio-group-"+e.id,options:e.options,state:e.getValidationState(t),stacked:""},on:{change:e.onChange},model:{value:e.internalValue,callback:function(t){e.internalValue=t},expression:"internalValue"}},[r("b-form-invalid-feedback",{attrs:{id:"input-live-feedback"+e.id,state:e.getValidationState(t)}},[e._v(e._s(t.errors[0]))])],1),r("b-form-invalid-feedback",{attrs:{id:"input-live-feedback"+e.id}},[e._v(e._s(t.errors[0]))])],1)]}}])})},he=[],be=function(e){Object(p["a"])(r,e);var t=Object(d["a"])(r);function r(){var e;return Object(c["a"])(this,r),e=t.apply(this,arguments),e.options=[{text:"Si",value:!0},{text:"No",value:!1}],e}return Object(l["a"])(r,[{key:"onValueChanged",value:function(e){this.internalValue=e}}]),r}(Y);Object(v["a"])([Object(f["d"])("value")],be.prototype,"onValueChanged",null),be=Object(v["a"])([f["a"]],be);var me=be,ye=me,ge=Object(y["a"])(ye,fe,he,!1,null,null,null),ke=ge.exports,Oe=r("7bb1"),je=r("4c93");Object(Oe["c"])("required",je["d"]),Object(Oe["c"])("email",je["a"]),Object(Oe["c"])("regex",je["c"]),Object(Oe["c"])("min",je["b"]);var Se=function(e){Object(p["a"])(r,e);var t=Object(d["a"])(r);function r(){var e;return Object(c["a"])(this,r),e=t.apply(this,arguments),e.survey=new R,e.areTermsAccepted=!1,e.steps=[{isActive:!0,isFilled:!1,icon:"person",title:"Anagrafica",type:P.PersonalData},{isActive:!1,isFilled:!1,icon:"house",title:"Dati immobile",type:P.BuildingData},{isActive:!1,isFilled:!1,icon:"check2",title:"Conferma",type:P.End}],e.currentStep=e.steps[0],e.previousStep=e.steps[0],e.isSaveInProgress=!1,e.isSurveyComplete=!1,e.sleep=function(e){return new Promise((function(t){return setTimeout(t,e)}))},e}return Object(l["a"])(r,[{key:"created",value:function(){this.survey=w.getItem(C.surveyLocalStorageName)||new R;var e=w.getItem(C.surveyStepsLocalStorageName);if(e){this.steps=e;var t=this.steps.find((function(e){return e.isActive}));t?this.changeActiveStep(t):this.changeActiveStep(this.steps[0])}}},{key:"onGoBackButtonClick",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.changeActiveStep(this.steps[this.currentStepIndex-1]);case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onNextButtonClick",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.validate();case 2:if(!e.sent){e.next=16;break}e.t0=this.currentStep.type,e.next=e.t0===P.PersonalData?6:e.t0===P.BuildingData?9:e.t0===P.End?14:16;break;case 6:return this.currentStep.isFilled=!0,this.changeActiveStep(this.steps[this.currentStepIndex+1]),e.abrupt("break",16);case 9:return e.next=11,this.saveSurvey();case 11:return t=e.sent,t&&(this.isSurveyComplete=!0,this.currentStep.isFilled=!0,this.changeActiveStep(this.steps[this.currentStepIndex+1]),this.currentStep.isFilled=!0,w.removeItem(C.surveyLocalStorageName),w.removeItem(C.surveyStepsLocalStorageName)),e.abrupt("break",16);case 14:return this.initializeSurvey(),e.abrupt("break",16);case 16:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"scrollToTop",value:function(){window.scrollY>0&&setTimeout((function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}),500)}},{key:"saveSurvey",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isSaveInProgress=!0,this.survey.workflowStatus=x.Submitted,t=new q,t.create(this.survey),e.next=6,this.sleep(3e3);case 6:return this.isSaveInProgress=!1,e.abrupt("return",!0);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"validate",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.$refs.observer,e.next=3,t.validate();case 3:return r=e.sent,r||(n=document.getElementsByClassName("form-control is-invalid")[0],n||(n=document.getElementsByClassName("custom-select is-invalid")[0]),n?n.focus():(n=document.getElementsByClassName("is-invalid")[0],n.scrollIntoView())),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"goToStep",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.t0=!this.isSurveyComplete&&t.type<this.currentStep.type,e.t0){e.next=5;break}return e.next=4,this.validate();case 4:e.t0=e.sent;case 5:if(!e.t0){e.next=8;break}this.changeActiveStep(t),this.currentStep.isFilled=!1;case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"changeActiveStep",value:function(e){this.currentStep.isActive=!1,this.previousStep=JSON.parse(JSON.stringify(this.currentStep)),this.currentStep=e,this.currentStep.isActive=!0,w.setItem(C.surveyStepsLocalStorageName,this.steps),this.scrollToTop()}},{key:"initializeSurvey",value:function(){this.survey=new R,this.isSurveyComplete=!1,this.steps.forEach((function(e){e.isActive=!1,e.isFilled=!1})),this.currentStep=this.steps[0],this.previousStep=this.steps[0],this.currentStep.isActive=!0}},{key:"onSurveyChanged",value:function(e){w.setItem(C.surveyLocalStorageName,e)}},{key:"currentStepIndex",get:function(){return this.steps.indexOf(this.currentStep)}},{key:"progressLength",get:function(){return(this.currentStepIndex+1)/this.steps.length*100-100/this.steps.length/2}},{key:"enterAnimation",get:function(){return this.currentStep.type<this.previousStep.type?"animate__animated animate__fadeInLeft animate__faster":"animate__animated animate__fadeInRight animate__faster"}},{key:"leaveAnimation",get:function(){return this.currentStep.type>this.previousStep.type?"animate__animated animate__fadeOutLeft animate__faster":"animate__animated animate__fadeOutRight animate__faster"}}]),r}(f["c"]);Object(v["a"])([Object(f["d"])("survey",{deep:!0})],Se.prototype,"onSurveyChanged",null),Se=Object(v["a"])([Object(f["a"])({components:{SurveyDropDownField:ae,SurveyInputField:ve,SurveyRadioField:ke}})],Se);var Ce=Se,xe=Ce,we=(r("a320"),Object(y["a"])(xe,_,N,!1,null,"875eaf9e",null)),_e=we.exports,Ne=function(e){Object(p["a"])(r,e);var t=Object(d["a"])(r);function r(){var e;return Object(c["a"])(this,r),e=t.apply(this,arguments),e.areTermsAccepted=!1,e.isSurveyVisible=!1,e}return Object(l["a"])(r,[{key:"created",value:function(){var e=w.getItem(C.surveyLocalStorageName);e&&this.startSurvey()}},{key:"startSurvey",value:function(){this.isSurveyVisible=!0}}]),r}(f["c"]);Ne=Object(v["a"])([Object(f["a"])({components:{SurveySteps:_e}})],Ne);var Ee=Ne,Ae=Ee,Ve=(r("5f6b"),Object(y["a"])(Ae,j,S,!1,null,"1bc72c78",null)),Te=Ve.exports;n["default"].use(O["a"]);var Pe,Re=[{path:"/",name:"Survey",component:Te},{path:"/",name:"Admin",component:function(){return r.e("chunk-2201db06").then(r.bind(null,"c86e"))},children:[{path:"/admin",name:"admin",component:function(){return r.e("chunk-2201db06").then(r.bind(null,"c86e"))}}]}],Ie=new O["a"]({mode:"history",base:"/survey/",routes:Re}),qe=Ie,Me=r("bc3a"),Be=r.n(Me);(function(e){e["String"]="String",e["Numeric"]="Numeric",e["Both"]="Both"})(Pe||(Pe={}));var Le=function(){function e(t){Object(c["a"])(this,e),this.settings=[],this.serviceBaseUrl=t}return Object(l["a"])(e,[{key:"initialize",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.serviceBaseUrl){e.next=5;break}return this.httpClient=Be.a.create({baseURL:this.serviceBaseUrl,withCredentials:!1,headers:{Accept:"application/json","Content-Type":"application/json"}}),e.abrupt("return",this.httpClient.get("/query/settings").then((function(e){if(e){t.settings=e.data.results,t.settings||(t.settings=[]);var r={name:C.defaultServicesBaseUrl,stringValue:t.serviceBaseUrl};return t.settings.push(r),Promise.resolve(!0)}return Promise.reject("Application settings are not valid")})));case 5:return e.abrupt("return",Promise.reject("Application settings starting url is not valid"));case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getString",value:function(e){return this.get(e,Pe.String)}},{key:"getNumeric",value:function(e){return this.get(e,Pe.Numeric)}},{key:"getSetting",value:function(e){return this.get(e,Pe.Both)}},{key:"get",value:function(e,t){var r=this.settings?this.settings.find((function(t){return t.name===e})):null,n=null;return r&&(t===Pe.String&&(n=r.stringValue),t===Pe.Numeric&&(n=r.numericValue),t===Pe.Both&&(n=r)),n}}]),e}(),De=r("2f62");n["default"].use(De["a"]);var $e=new De["a"].Store({state:{settings:new Le("https://nucleo-development-host.azurewebsites.net/api/")},mutations:{},actions:{},modules:{}}),Fe=(r("ca18"),r("77ed"),r("e26a"));Object(Oe["d"])("it",Fe),n["default"].component("ValidationObserver",Oe["a"]),n["default"].component("ValidationProvider",Oe["b"]),n["default"].config.productionTip=!1,new n["default"]({router:qe,store:$e,render:function(e){return e(k)}}).$mount("#app")},d32a:function(e,t,r){},eddb:function(e,t,r){}});
//# sourceMappingURL=app.31eb59a7.js.map